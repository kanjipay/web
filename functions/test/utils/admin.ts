import * as base64 from "base-64";
import * as admin from "firebase-admin";

const serviceAccountBase64String =
  "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAibWVyY2Fkb3BheS1kZXYiLAogICJwcml2YXRlX2tleV9pZCI6ICI3OWRkOTRmM2I0Y2M1ZDJhNjcxMTAyYjY5NDJjNDMzOGJhYjYyYzJkIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5NSUlFdmdJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLZ3dnZ1NrQWdFQUFvSUJBUUMyNzhyM0J6dE9aRXlvXG5xL2hyeHgvR3NuV05VdUdwWGNGRlY5UmVUUVdQZ1JGQ3NGVXhraUMzTXNnQ01XWUhJRU9OTmFVYlA5VmE3dVBZXG5UcGNHVzNRQUZIb2tDeGFzazJFYnZTRDBtTWdTRnhnTlJ2eStTZm1KZ0Qxa2FpSmgrY2lhRFFabkVmczZxM3dZXG5nSlBGNWhjWmFCV01rM1hZM3FaYm00MnhybzZpVU9YbStOWHdoSEh0akRmVDdFOG9HdUJTREpIT1JIeDh4Z3V0XG40cUNRNXdJOWRWUWtDekU2Q3F2OWMwS1lKVVFnU2pKWnl2L0RtNUtoRDBlbVBMZ1dIU3hoRzhWWVdoTCtCR0gxXG5OTVhlUVUwY2ZHcitWS1E4RGg2aFZuWTFFdWU5TEUrTVFiTUtOQ2tOSEFUeHRzcUxwRGhBS3NHdVVKdVdZbU1sXG5nZDREcGxLckFnTUJBQUVDZ2dFQUVzL3pBOWRMQ29NMi9PdCtadnI1c2hHOUUvVHZmdDdFMXRBeTV5V3RpalhnXG5KQWNGSTgxZXJ1ZzZlRHREUGoxYnBRUmN2OElmT3pRdzJ4Z3Q0TG43NGx3NHVVY29wRU9kcTJBV0tRRWpKZlVaXG5CSmlGdWozYU93RWtqeFI1QjdGTHAwZnFuaVBUdlpOUDlpY1d5eldmcjMyc0phSXVic2hxdkNYeGV0RzBHazNoXG41aU14dncxMmRUUXN4SHk4bVU4VjdIWE1LOTZMaWNDMlBnOEZIZEV2TDNmd3JOK3JPR1VjV3VKVXFLWmpPUC9YXG5xTVhkQVZRWkU1NnZ6bkplUnc3RzdTVzQ2eHBxNGRFdHNwT0ZEdjZpMkNuRWZlOWl5a0ZFRUpvUkxmNGF2ZHppXG5HYTY1UnpLTFc4T1NqK2xmTWpaamplZkVaQ3F0SXpSQUVjQjRHNUJ5QlFLQmdRRGZuT29VRTl1ZVRGUkRuNTdwXG5JV0RKU3FxYzRmb3ZSNVR6eTRCRzdzYlEyWnY3TTdVbXArWE56RXg3eWJOQ2RQNFZwYVBMMlhqK0lqSHkzWkMrXG5Mc2FPS0RPMkJFSlEwUEFQVzVMQTlId2RtcEtPbUVaVTljUEp2Q2xvdTZzK2dvZU9rNTRWdVhrN2x6Mk5RaWprXG5WWUk4SG5SaFQzZXp0aXdUMzI1STc4Vlpid0tCZ1FEUmJyRE9SZzlaQzdrM3o3eWladGRLcGhOY1daQ2RpT2E0XG5CTk9kWXNGYy9iUFp5b0pLVHF1SXlHdHpyVTA1RGpvUUx1dDYwMGgrSWhPQUtGNU9xNGRrTS90VnM4MWlhQzZJXG5JVjAwUjZsc3RYNHZ2OE1jR25qM0R1cWdDWUpmNW5iTEYzMVltbndlQXpiQVZTdmswbUdCTTNWTC9ub0xybVlwXG5ENHdyelFqa2hRS0JnUUNpdElSR0U2VHJhOUtzV2NyQkN6NW5lT0xud0MzUWxSODJ2VTRiVHNadlZNZUFZc0ZlXG4zVEFETExKQ0tDTTlLZTl2Uk5VSUVMZFBBd2FoRnNLby8xUU9RQVpRWEl6OFRPcy80WHZJMXB3dzFqWHBkN2RGXG5Qb1kxbGFuendRbjdNL0w2dFVLRHdDOE1ReUhRVk9GNE14Zk9Nc0t2dzZqdnBKQXg3Wk5Ma3R0Z0ZRS0JnR0pTXG54VThTTlVKbzdwdjFPMnBEUGZBZDZCa0RNNUhDSkE5Z3RMaS9GR2pEOHh2Y3B5NmJvSXluQzB0VG9WMllBRXA0XG52TFQ5WEp0YkJDeTJ4dy9JRjloRFQwdjlEZitWU2NNL1pyS1Vza1lITHliYnNJNFJINWxkdDJsTERacFlhSTBRXG5paGgrN3Fab2U5dndJSnRjNmNudWpyTU8xZDJHRXhCVDdFcmtCN2pCQW9HQkFOYk1vOUIwS1dkSzdDT0ZkQzdmXG5tTEdVU1RiYXVUbU5FNVVPaTRvaGx4Y29OcTRHRFN5TkczS2FnWEsvUW5icjBWS0tNRVZPdlZ3L3BsQ2NaRG5YXG4rdWE0a3dWQktXdkJyVk44bHQxRThsdXh1Vm1uSzJHNWhnYVozMUhJU3V5RWJKNXBCYVVqRXBEUkgrVjR4U3JuXG5YMlNtMHR2aUNZbEgrVi9WOHV3NGR2eDBcbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsCiAgImNsaWVudF9lbWFpbCI6ICJmaXJlYmFzZS1hZG1pbnNkay1hM2lvNUBtZXJjYWRvcGF5LWRldi5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsCiAgImNsaWVudF9pZCI6ICIxMTI4MDU5NjE2NTcyOTk0Mjg1ODEiLAogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIsCiAgInRva2VuX3VyaSI6ICJodHRwczovL29hdXRoMi5nb29nbGVhcGlzLmNvbS90b2tlbiIsCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLAogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2ZpcmViYXNlLWFkbWluc2RrLWEzaW81JTQwbWVyY2Fkb3BheS1kZXYuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iCn0K";
const serviceAccount = JSON.parse(base64.decode(serviceAccountBase64String));
const credential = admin.credential.cert(serviceAccount);

admin.initializeApp({ credential });

const db = admin.firestore();
const auth = admin.auth();

export { db, auth };
